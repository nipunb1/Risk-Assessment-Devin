<div class="risk-form-container">
  <div class="header">
    <h1>{{ isEditMode ? 'Edit Risk' : 'Create New Risk' }}</h1>
  </div>

  <div class="content">
    <div *ngIf="loading" class="loading">
      <p>{{ isEditMode ? 'Loading risk...' : 'Saving risk...' }}</p>
    </div>

    <div *ngIf="error" class="error">
      <p>{{ error }}</p>
    </div>

    <form *ngIf="!loading" (ngSubmit)="onSubmit()" class="risk-form">
      <div class="form-group">
        <label for="riskDate">Risk Raise Date *</label>
        <input 
          type="date" 
          id="riskDate" 
          name="riskDate"
          [(ngModel)]="risk.riskDate" 
          required 
          class="form-control">
      </div>

      <div class="form-group">
        <label for="riskType">Risk Type *</label>
        <select 
          id="riskType" 
          name="riskType"
          [(ngModel)]="risk.riskType" 
          required 
          class="form-control">
          <option value="MARKET_PRACTICE">Market Practice</option>
          <option value="CONFLICT_OF_INTEREST">Conflict of Interest</option>
          <option value="PRICING">Pricing</option>
          <option value="REGULATORY">Regulatory</option>
          <option value="GOVERNANCE">Governance</option>
        </select>
      </div>

      <div class="form-group">
        <label for="riskProbability">Risk Probability *</label>
        <select 
          id="riskProbability" 
          name="riskProbability"
          [(ngModel)]="risk.riskProbability" 
          required 
          class="form-control">
          <option value="LOW">Low</option>
          <option value="MEDIUM">Medium</option>
          <option value="HIGH">High</option>
        </select>
      </div>

      <div class="form-group">
        <label for="riskDesc">Risk Description *</label>
        <textarea 
          id="riskDesc" 
          name="riskDesc"
          [(ngModel)]="risk.riskDesc" 
          required 
          rows="4"
          placeholder="Enter detailed risk description..."
          class="form-control"></textarea>
      </div>

      <div class="form-group">
        <label for="riskStatus">Risk Status *</label>
        <select 
          id="riskStatus" 
          name="riskStatus"
          [(ngModel)]="risk.riskStatus" 
          required 
          class="form-control">
          <option value="OPEN">Open</option>
          <option value="IN_PROGRESS">In Progress</option>
          <option value="CLOSED">Closed</option>
        </select>
      </div>

      <div class="form-group">
        <label for="riskRemarks">Updates/Remarks</label>
        <textarea 
          id="riskRemarks" 
          name="riskRemarks"
          [(ngModel)]="risk.riskRemarks" 
          rows="3"
          placeholder="Enter any updates or remarks..."
          class="form-control"></textarea>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
        <button type="submit" class="btn btn-primary" [disabled]="loading">
          {{ isEditMode ? 'Update Risk' : 'Create Risk' }}
        </button>
      </div>
    </form>
  </div>
</div>
